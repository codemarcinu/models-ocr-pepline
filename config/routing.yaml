routes:
  # Receipt parsing - DeepSeek-R1 excels at JSON extraction
  - task: "receipt_parsing"
    complexity: "simple"
    primary: "local_reason"
    fallback: "openai"
    reason: "DeepSeek-R1 for JSON"
  - task: "receipt_parsing"
    complexity: "medium"
    primary: "local_reason"
    fallback: "openai"
    reason: "DeepSeek-R1 for JSON"
  - task: "receipt_parsing"
    complexity: "complex"
    primary: "local_reason"
    fallback: "openai"
    reason: "DeepSeek-R1 for JSON"

  # RAG Chat - Local for speed, cloud for complex
  - task: "rag_chat"
    complexity: "simple"
    primary: "local_fast"
    fallback: "local_smart"
    reason: "Fast local response"
  - task: "rag_chat"
    complexity: "medium"
    primary: "local_smart"
    fallback: "openai"
    reason: "Bielik for Polish"
  - task: "rag_chat"
    complexity: "complex"
    primary: "local_smart"
    fallback: "openai"
    reason: "Bielik + cloud fallback"

  # RAG HyDE - Local is sufficient
  - task: "rag_hyde"
    complexity: "simple"
    primary: "local_fast"
    fallback: "local_smart"
    reason: "Fast HyDE generation"
  - task: "rag_hyde"
    complexity: "medium"
    primary: "local_smart"
    fallback: "local_fast"
    reason: "Quality HyDE"
  - task: "rag_hyde"
    complexity: "complex"
    primary: "local_smart"
    fallback: "openai"
    reason: "Complex HyDE"

  # Summarization - Short local, long cloud
  - task: "summarization"
    complexity: "simple"
    primary: "local_fast"
    fallback: "gemini"
    reason: "Fast summary"
  - task: "summarization"
    complexity: "medium"
    primary: "local_smart"
    fallback: "gemini"
    reason: "Quality summary"
  - task: "summarization"
    complexity: "complex"
    primary: "gemini"
    fallback: "openai"
    reason: "Long context cloud"

  # Tagging - Always local (simple task)
  - task: "tagging"
    complexity: "simple"
    primary: "local_fast"
    fallback: "local_smart"
    reason: "Fast tagging"
  - task: "tagging"
    complexity: "medium"
    primary: "local_fast"
    fallback: "local_smart"
    reason: "Fast tagging"
  - task: "tagging"
    complexity: "complex"
    primary: "local_smart"
    fallback: "local_fast"
    reason: "Quality tagging"

  # OCR Vision - Cloud only (multimodal)
  - task: "ocr_vision"
    complexity: "simple"
    primary: "gemini"
    fallback: "openai"
    reason: "Gemini Vision"
  - task: "ocr_vision"
    complexity: "medium"
    primary: "gemini"
    fallback: "openai"
    reason: "Gemini Vision"
  - task: "ocr_vision"
    complexity: "complex"
    primary: "gemini"
    fallback: "openai"
    reason: "Gemini Vision"

  # Note refinement - Local for privacy
  - task: "note_refinement"
    complexity: "simple"
    primary: "local_fast"
    fallback: "local_smart"
    reason: "Private refinement"
  - task: "note_refinement"
    complexity: "medium"
    primary: "local_smart"
    fallback: "gemini"
    reason: "Quality refinement"
  - task: "note_refinement"
    complexity: "complex"
    primary: "local_smart"
    fallback: "gemini"
    reason: "Complex refinement"

  # Email triage - JSON classification, local for privacy
  - task: "email_triage"
    complexity: "simple"
    primary: "local_fast"
    fallback: "local_smart"
    reason: "Fast email triage"
  - task: "email_triage"
    complexity: "medium"
    primary: "local_smart"
    fallback: "openai"
    reason: "Quality email triage"
  - task: "email_triage"
    complexity: "complex"
    primary: "local_smart"
    fallback: "openai"
    reason: "Complex email triage"

  # General fallback
  - task: "general"
    complexity: "simple"
    primary: "local_fast"
    fallback: "local_smart"
    reason: "General task"
  - task: "general"
    complexity: "medium"
    primary: "local_smart"
    fallback: "openai"
    reason: "General task"
  - task: "general"
    complexity: "complex"
    primary: "openai"
    fallback: "gemini"
    reason: "Complex general"
